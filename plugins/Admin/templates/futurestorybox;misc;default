__section__
default
__description__
A template with logic to return the various messages in admin.pl, used
by the subroutine getMessages in admin.pl
__title__

__page__
misc
__lang__
en_US
__name__
futurestorybox
__template__

<ul id="future">
[% futuretoday = Slash.timeCalc(Slash.db.getTime, "%Y-%m-%d", 0);
   MACRO futurestorywrite(story, nohref) BLOCK;
   futuretext  = "";
   futuretime  = "";
   futureclass = "future";

   IF !story.displaystatus;
        futureclass = "future";
   ELSIF story.displaystatus > 0;
	futureclass = "futureg";
   ELSIF story.displaystatus < 0;
	futureclass = "futurel";
   END;

   IF nohref;
	futuretext = story.title;
   ELSE;
	futuretext = BLOCK -%]
<a href="[% gSkin.rootdir %]/article.pl?sid=[% story.sid %]">[% story.title %]</a>
	[%- END;
   END;

   IF Slash.timeCalc(story.time, "%Y-%m-%d", 0) == futuretoday;
	futuretime = Slash.timeCalc(story.time, "%H:%M", 0);
   ELSE;
	futuretime = Slash.timeCalc(story.time, "%H:%M %Y-%m-%d", 0);
   END;

   -%]
	<li class="[% futureclass %]">
		[% futuretext %] <em>[% futuretime %]</em>
	</li>
[%- END %]


[% FOREACH story = future;
	futurestorywrite(story);
END;
futurestorywrite(present, 1);
FOREACH story = otherpresent;
	futurestorywrite(story);
END;
FOREACH story = past;
	futurestorywrite(story);
END %]
</ul>

__seclev__
10000
__version__
$Id: futurestorybox;misc;default,v 1.10 2005/07/27 22:53:54 pudge Exp $
