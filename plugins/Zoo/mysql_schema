DROP TABLE IF EXISTS people;
CREATE TABLE people (
	id MEDIUMINT UNSIGNED NOT NULL auto_increment,
	uid MEDIUMINT UNSIGNED NOT NULL,
	person MEDIUMINT UNSIGNED NOT NULL,
	type enum("friend","foe"),
	perceive enum("fan","freak"),
	fof MEDIUMINT UNSIGNED NOT NULL  DEFAULT 0, 
	eof MEDIUMINT UNSIGNED NOT NULL  DEFAULT 0,
	UNIQUE degree_of_separation (uid,person),
	INDEX (person),
	FOREIGN KEY (uid) REFERENCES users(uid),
	FOREIGN KEY (person) REFERENCES users(uid),
	PRIMARY KEY (id)
);

ALTER TABLE users_info ADD people_status ENUM ("ok","dirty") DEFAULT "ok" NOT NULL;
ALTER TABLE users_info ADD index people_status(people_status);

